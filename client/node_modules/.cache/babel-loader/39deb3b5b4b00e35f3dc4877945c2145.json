{"ast":null,"code":"var _jsxFileName = \"C:\\\\Ivan_programming\\\\web-dev-project\\\\client\\\\src\\\\screens\\\\Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport httpService from '../services/http.service';\nimport NavBar from '../components/NavBar';\nimport CartProductCard from '../components/CartProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n\n  const [cartProducts, setCartProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [cartTotal, setCartTotal] = useState(0.00);\n  React.useEffect(async () => {\n    setIsLoading(true);\n    setCartProducts(await httpService.fetchAllCartProducts());\n    setIsLoading(false);\n    updateCartTotal();\n  }, []);\n  React.useEffect(() => {\n    updateCartTotal();\n  }, [cartProducts]);\n\n  const updateCartTotal = () => {\n    cartProducts.forEach(cartProduct => {\n      setCartTotal(cartTotal => cartTotal + parseFloat(cartProduct.prix));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"article\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-infos right-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"right-header\",\n            id: \"recettes-count\",\n            children: [\"You have added \", cartProducts.length, \" product\", cartProducts.length > 1 ? 's' : '', \" to your cart!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"right-header\",\n            id: \"recettes-count\",\n            children: [\"Cart total: \", cartTotal, \" $\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Products in your cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"disclaimer\",\n          children: \"If you decide to remove items, refresh your page to see changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recettes\",\n          id: \"recettes-list\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader-container\",\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 29\n          }, this) : cartProducts.map(cartProduct => /*#__PURE__*/_jsxDEV(CartProductCard, {\n            cartProduct: cartProduct\n          }, cartProduct.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 63\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Cart, \"b89iDRSQXtHFFRSuL798MYti46w=\");\n\n_c = Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Ivan_programming/web-dev-project/client/src/screens/Cart.jsx"],"names":["React","useState","CircularProgress","httpService","NavBar","CartProductCard","Cart","cartProducts","setCartProducts","isLoading","setIsLoading","cartTotal","setCartTotal","useEffect","fetchAllCartProducts","updateCartTotal","forEach","cartProduct","parseFloat","prix","length","map","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,eAAP,MAA4B,+BAA5B;;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAC3B,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,IAAD,CAA1C;AAEAD,EAAAA,KAAK,CAACa,SAAN,CAAgB,YAAY;AACxBH,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAF,IAAAA,eAAe,CAAC,MAAML,WAAW,CAACW,oBAAZ,EAAP,CAAf;AACAJ,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAK,IAAAA,eAAe;AAClB,GALD,EAKG,EALH;AAOAf,EAAAA,KAAK,CAACa,SAAN,CAAgB,MAAM;AAClBE,IAAAA,eAAe;AAClB,GAFD,EAEG,CAACR,YAAD,CAFH;;AAIA,QAAMQ,eAAe,GAAG,MAAM;AAC1BR,IAAAA,YAAY,CAACS,OAAb,CAAsBC,WAAD,IAAiB;AAClCL,MAAAA,YAAY,CAACD,SAAS,IAAIA,SAAS,GAAGO,UAAU,CAACD,WAAW,CAACE,IAAb,CAApC,CAAZ;AACH,KAFD;AAGH,GAJD;;AAMA,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,4BACI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA,6BACI;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA,kCACI;AAAM,YAAA,SAAS,EAAC,cAAhB;AAA+B,YAAA,EAAE,EAAC,gBAAlC;AAAA,0CACoBZ,YAAY,CAACa,MADjC,cACiDb,YAAY,CAACa,MAAb,GAAsB,CAAtB,GAA0B,GAA1B,GAAgC,EADjF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII;AAAM,YAAA,SAAS,EAAC,cAAhB;AAA+B,YAAA,EAAE,EAAC,gBAAlC;AAAA,uCACiBT,SADjB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ,eAUI;AAAI,UAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ,eAWI;AAAK,UAAA,SAAS,EAAC,UAAf;AAA0B,UAAA,EAAE,EAAC,eAA7B;AAAA,oBACKF,SAAS,gBACN;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,mCACI,QAAC,gBAAD;AAAkB,cAAA,KAAK,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADM,GAKNF,YAAY,CAACc,GAAb,CAAkBJ,WAAD,iBAAiB,QAAC,eAAD;AAAsC,YAAA,WAAW,EAAEA;AAAnD,aAAsBA,WAAW,CAACK,EAAlC;AAAA;AAAA;AAAA;AAAA,kBAAlC;AANR;AAAA;AAAA;AAAA;AAAA,gBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA4BH;;GAlDuBhB,I;;KAAAA,I","sourcesContent":["import React, { useState } from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport httpService from '../services/http.service';\r\nimport NavBar from '../components/NavBar'\r\nimport CartProductCard from '../components/CartProductCard';\r\n\r\nexport default function Cart() {\r\n    const [cartProducts, setCartProducts] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [cartTotal, setCartTotal] = useState(0.00);\r\n\r\n    React.useEffect(async () => {\r\n        setIsLoading(true);\r\n        setCartProducts(await httpService.fetchAllCartProducts());\r\n        setIsLoading(false);\r\n        updateCartTotal();\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        updateCartTotal();\r\n    }, [cartProducts])\r\n\r\n    const updateCartTotal = () => {\r\n        cartProducts.forEach((cartProduct) => {\r\n            setCartTotal(cartTotal => cartTotal + parseFloat(cartProduct.prix))\r\n        })\r\n    };\r\n\r\n    return (\r\n        <div className='home-container'>\r\n            <NavBar />\r\n            <main>\r\n                <article>\r\n                    <div className='cart-infos right-header'>\r\n                        <span className='right-header' id='recettes-count'>\r\n                            You have added {cartProducts.length} product{cartProducts.length > 1 ? 's' : ''} to your cart!\r\n                        </span>\r\n                        <span className='right-header' id='recettes-count'>\r\n                            Cart total: {cartTotal} $\r\n                        </span>\r\n                    </div>\r\n                    <h1>Products in your cart</h1>\r\n                    <h2 className='disclaimer'>If you decide to remove items, refresh your page to see changes</h2>\r\n                    <div className='recettes' id='recettes-list'>\r\n                        {isLoading ? (\r\n                            <div className='loader-container'>\r\n                                <CircularProgress color='success' />\r\n                            </div>\r\n                        ) : (\r\n                            cartProducts.map((cartProduct) => <CartProductCard key={cartProduct.id} cartProduct={cartProduct} />)\r\n                        )}\r\n                    </div>\r\n                </article>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}