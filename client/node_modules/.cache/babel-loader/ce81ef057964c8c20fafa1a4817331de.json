{"ast":null,"code":"var _jsxFileName = \"C:\\\\Ivan_programming\\\\web-dev-project\\\\client\\\\src\\\\screens\\\\Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport httpService from '../services/http.service';\nimport NavBar from '../components/NavBar';\nimport CartProductCard from '../components/CartProductCard';\nimport Modal from 'react-modal'; // import Modal from '../components/Modal';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n\n  const [cartProducts, setCartProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [cartTotal, setCartTotal] = useState(0.00);\n  const [modalOpen, setModalOpen] = useState(false);\n  React.useEffect(async () => {\n    setIsLoading(true);\n    setCartProducts(await httpService.fetchAllCartProducts());\n    setIsLoading(false);\n    updateCartTotal();\n  }, []);\n  React.useEffect(() => {\n    updateCartTotal();\n  }, [cartProducts]);\n\n  const updateCartTotal = () => {\n    cartProducts.forEach(cartProduct => {\n      setCartTotal(cartTotal => cartTotal + parseFloat(cartProduct.prix));\n    });\n  };\n\n  const handleOpen = () => {\n    setCartProducts({});\n    setIsLoading(null);\n    setCartTotal(null);\n    setModalOpen(true);\n  }; // const handleShow = () => setShow(true);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"article\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-infos right-header right-align\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"right-header\",\n            id: \"recettes-count\",\n            children: [\"You have added \", cartProducts.length, \" product\", cartProducts.length > 1 ? 's' : '', \" to your cart!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"right-header\",\n            id: \"recettes-count\",\n            children: [\"Cart total: \", cartTotal, \" $\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn\",\n            onClick: handleOpen,\n            children: \"Proceed to checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Products in your cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"disclaimer\",\n          children: \"If you decide to remove items, refresh your page to see changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recettes\",\n          id: \"recettes-list\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader-container\",\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this) : cartProducts.map(cartProduct => /*#__PURE__*/_jsxDEV(CartProductCard, {\n            cartProduct: cartProduct\n          }, cartProduct.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 63\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalOpen,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Modal Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Cart, \"pNfTk3Vc5X4v2/ALo1UkGPeCw6E=\");\n\n_c = Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Ivan_programming/web-dev-project/client/src/screens/Cart.jsx"],"names":["React","useState","CircularProgress","httpService","NavBar","CartProductCard","Modal","Cart","cartProducts","setCartProducts","isLoading","setIsLoading","cartTotal","setCartTotal","modalOpen","setModalOpen","useEffect","fetchAllCartProducts","updateCartTotal","forEach","cartProduct","parseFloat","prix","handleOpen","length","map","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport httpService from '../services/http.service';\r\nimport NavBar from '../components/NavBar'\r\nimport CartProductCard from '../components/CartProductCard';\r\nimport Modal from 'react-modal';\r\n// import Modal from '../components/Modal';\r\n\r\nexport default function Cart() {\r\n    const [cartProducts, setCartProducts] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [cartTotal, setCartTotal] = useState(0.00);\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n\r\n    React.useEffect(async () => {\r\n        setIsLoading(true);\r\n        setCartProducts(await httpService.fetchAllCartProducts());\r\n        setIsLoading(false);\r\n        updateCartTotal();\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        updateCartTotal();\r\n    }, [cartProducts])\r\n\r\n    const updateCartTotal = () => {\r\n        cartProducts.forEach((cartProduct) => {\r\n            setCartTotal(cartTotal => cartTotal + parseFloat(cartProduct.prix))\r\n        })\r\n    };\r\n\r\n    const handleOpen = () => {\r\n        setCartProducts({});\r\n        setIsLoading(null);\r\n        setCartTotal(null);\r\n        setModalOpen(true);\r\n    }\r\n    // const handleShow = () => setShow(true);\r\n\r\n    return (\r\n        <div className='home-container'>\r\n            <NavBar />\r\n            <main>\r\n                <article>\r\n                    <div className='cart-infos right-header right-align'>\r\n                        <span className='right-header' id='recettes-count'>\r\n                            You have added {cartProducts.length} product{cartProducts.length > 1 ? 's' : ''} to your cart!\r\n                        </span>\r\n                        <span className='right-header' id='recettes-count'>\r\n                            Cart total: {cartTotal} $\r\n                        </span>\r\n                        <button type='button' className='btn' onClick={handleOpen}>\r\n                            Proceed to checkout\r\n                        </button>\r\n                    </div>\r\n                    <h1>Products in your cart</h1>\r\n                    <h2 className='disclaimer'>If you decide to remove items, refresh your page to see changes</h2>\r\n                    <div className='recettes' id='recettes-list'>\r\n                        {isLoading ? (\r\n                            <div className='loader-container'>\r\n                                <CircularProgress color='success' />\r\n                            </div>\r\n                        ) : (\r\n                            cartProducts.map((cartProduct) => <CartProductCard key={cartProduct.id} cartProduct={cartProduct} />)\r\n                        )}\r\n                    </div>\r\n                </article>\r\n            </main>\r\n            <Modal isOpen={modalOpen}>\r\n                <h2>Modal Title</h2>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}